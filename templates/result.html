<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–∑—É–ª—å—Ç–∞—Ç - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ü–∞—Ä–æ–ª–µ–π</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéâ –í–∞—à –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ü–∞—Ä–æ–ª—å</h1>
            <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è –∑–∞—â–∏—Ç—ã –≤–∞—à–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤</p>
            
            <div class="header-nav">
                <p>–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ <strong>{{ session.username }}</strong></p>
                <div>
                    <a href="/generator">üîê –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä</a>
                    <a href="/profile">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a>
                    <a href="/logout">üö™ –í—ã–π—Ç–∏</a>
                </div>
            </div>
        </header>

        <main>
            {% if error %}
                <div class="error-message">
                    <h3>‚ùå –û—à–∏–±–∫–∞!</h3>
                    <p>{{ error }}</p>
                    <a href="/generator" class="home-btn">üîÑ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</a>
                </div>
            {% else %}
                <div class="password-result">
                    <div class="password-display" id="passwordDisplay">
                        {{ password }}
                    </div>
                    
                    <div class="password-info">
                        <div class="info-item">
                            <strong>üéØ –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:</strong> {{ level }}
                        </div>
                        <div class="info-item">
                            <strong>üõ°Ô∏è –û—Ü–µ–Ω–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</strong> 
                            <span class="strength-{{ strength.lower() }}">{{ strength }}</span>
                        </div>
                        <div class="info-item">
                            <strong>üìè –î–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è:</strong> {{ length }} —Å–∏–º–≤–æ–ª–æ–≤
                        </div>
                        <div class="info-item">
                            <strong>üí° –°–æ–≤–µ—Ç:</strong> 
                            {% if strength == "–°–ª–∞–±—ã–π" %}
                                –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å
                            {% elif strength == "–°—Ä–µ–¥–Ω–∏–π" %}
                                –•–æ—Ä–æ—à–∏–π –ø–∞—Ä–æ–ª—å, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å
                            {% else %}
                                –û—Ç–ª–∏—á–Ω—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å!
                            {% endif %}
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button onclick="copyToClipboard()" class="copy-btn">
                            üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
                        </button>
                        <button onclick="generateNew()" class="new-btn">
                            üîÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π
                        </button>
                        <a href="/generator" class="home-btn">üîê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É</a>
                    </div>
                </div>
            {% endif %}
        </main>
    </div>

    <script>
        function copyToClipboard() {
            const password = "{{ password }}";
            navigator.clipboard.writeText(password).then(() => {
                alert('‚úÖ –ü–∞—Ä–æ–ª—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }).catch(err => {
                alert('‚ùå –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ' + err);
            });
        }

        function generateNew() {
            window.location.href = '/generator';
        }
    </script>
</body>
</html>
